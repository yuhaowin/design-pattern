抽象工厂

定义:抽象工厂模式提供一个创建一系列相关或相互依赖对象的接口  (产品等级 产品族 概念)

适用的场景: 客户端不依赖产品类实例是如何创建,实现的细节

一系列相关产品对象(换句话说,它们属于一个产品族)创建时需要复制大量的代码

提供一个产品类的库, 所有的产品以同样的接口出现,从而是客户端不依赖具体的实现;


优点:具体的产品在应用程是隔离的,无需关心创建的过程.
将一个系列的产品族统一到一起创建.

缺点:规定了所有可能被创建的产品的集合,在产品族中扩展新的产品比较困难,需要修改抽象工厂的接口
增加了系统的抽象性和复杂性;


补充:产品等级结构和产品族

一个产品族是由一个工厂生产的,一个产品族中,不同的产品位于不同产品等级

![](https://ws2.sinaimg.cn/large/006tNbRwgy1fwy9z19uzkj31kw0y6tue.jpg)


抽象工厂和工厂方法的区别

抽象工厂解决的是:通过一个工厂可以获取一个产品族的中的不同的产品,例如:通过格力这个工厂可以获得格力的冰箱,格力的洗衣机,格力的空调等等;

工厂方法解决的是:通过一个工厂 可以获取同一个产品等级的产品,例如:通过空调这个工厂可以获取格力的空调,海尔的空调,美的的空调等等;



源码解析:

java.sql.Connection 接口

这个接口有很多的实现,如:mysql的实现,Oracle的实现,接口中有很多的抽象方法如;createstatement
Preparedstatement  但是他们返回的都是与mysql相关的或者是Oracle相关的  

mybatis 中的sqlsessionFactory